---
title: サブ窓によるファイル操作
tag: サブ窓
---

## サブ窓によるファイル操作とは

以下の順序でファイル操作を行う。

1．メイン窓から操作元のファイルを指定し、サブ窓を開く
2．サブ窓で操作先のファイルを選択し、Shift+Enter
3．操作が実行され、サブ窓が閉じる

## サブ窓でファイル操作をする理由

例えばファイルをコピーしたい場合、思考の流れとしては、

1．コピーしたいファイルを窓Aで選択
2．コピー先のフォルダを窓Bで選択
3．実行

となる。「窓A→窓B」で操作は終わるはずなのだ。しかし、通常の操作では

1．コピーしたいファイルを窓Aで選択
2．コピー先のフォルダを窓Bで選択
3．窓Aへ戻り、コピー操作を実行

となる。「窓A→窓B→窓A」と窓間移動が一度増えるのである。それを解消するため、サブ窓によるファイル操作を行う（ちなみにこれは、サブ窓を使う以外にも、「反対窓でマークしたファイルを操作」「fenrirを使う」「一行編集を使う」といった解決方法が存在する）。

## 方法

```text
KC_main    = {
\M ,*setcust _User:sorce_id=%n %: *ppc -r -bootid:x -single "%1" -k %(*mapkey use,K_subwin %: *linemessage 移動先を選択してください %: *string i,temp_exec=%(*file !move ,%*extract(%su"sorce_id""%%@*8FCDN"),%1 %: %K"@Q"%)%)
\C ,*setcust _User:sorce_id=%n %: *ppc -r -bootid:x -single "%1" -k %(*mapkey use,K_subwin %: *linemessage コピー先を選択してください %: *string i,temp_exec=%(*file !copy ,%*extract(%su"sorce_id""%%@*8FCDN"),%1 %: %K"@Q"%)%)
}

K_subwin	= {
\ENTER    ,*execute ,%si"temp_exec"
}
```

処理元のファイルにカーソルをあわせるか、マークするかしたあと、

1. 移動：Shift+M
1. コピー：Shift+C
1. 解凍：Shift+U

でサブ窓PPC[X]が開く。あとは処理先のディレクトリまで移動し、Shift+Enterを押せばいい。
